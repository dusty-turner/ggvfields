---
output: github_document
---

<!-- README.md is generated from README.Rmd. Please edit that file -->

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "man/figures/README-",
  out.width = "100%",
  dev = "png", dpi = 300,
  fig.height = 3.5, 
  cache = FALSE
)
```

# **ggvfields**

## Overview

**ggvfields** provides tools for visualizing vector fields, complex numbers, and soon dual numbers and more. 

```{r}
library("ggvfields")
```

## Usage

### `geom_vector_field()`{.R}

The `geom_vector_field()`{.R} function generates a vector field plot layer using a user-defined function to compute the vector components. This function abstracts away the mathematical computations required to generate the vector field, so the user does not need to manually calculate and input the vector components into `geom_segment()`{.R}. It simplifies the process, making it easier to create vector field visualizations without dealing with the underlying math.

```{r}
# custom function
f <- function(v) {
  x <- v[1]; y <- v[2]
  c(-y, x) # = f(x,y)
}

# create a ggplot with the vector field layer
ggplot() +
  geom_vector_field(fun = f, xlim = c(-10, 10), ylim = c(-10, 10)) +
  coord_fixed()
```

This function also offers several aesthetic mappings which allow you to map several characteristics of the vector field to different aesthetic mappings.

#### Vector magnitude

To visualize the magnitude of the vectors:

```{r}
ggplot() +
  geom_vector_field(
    aes(color = after_stat(magnitude)),
    fun = f, xlim = c(-10, 10), ylim = c(-10, 10),
  ) +
  coord_fixed()
```

#### Divergence

To visualize the divergence of the vector field:

```{r}
ggplot() +
  geom_vector_field(
    aes(color = after_stat(divergence)), 
    fun = f, xlim = c(-10, 10), ylim = c(-10, 10)
  ) +
  coord_fixed()
```

#### Magnitude of the curl

To visualize the magnitude of the curl of the vector field:

```{r}
ggplot() +
  geom_vector_field(
    aes(color = after_stat(curl)), 
    fun = f, xlim = c(-10, 10), ylim = c(-10, 10)
  ) +
  coord_fixed()
```

#### Laplace operator

To visualize the Laplace operator of the vector field:

```{r}
ggplot() +
  geom_vector_field(
    aes(color = after_stat(laplacian)), 
    fun = f, xlim = c(-10, 10), ylim = c(-10, 10)
  ) +
  coord_fixed()
```

#### Directional derivative

To visualize the directional derivative from any point to another point `c(u, v)` within the vector field:

```{r}
x1 <- 5
y1 <- 6

ggplot() +
  geom_vector_field(
    aes(color = after_stat(directional_derivative)),
    fun = f, xlim = c(-10, 10), ylim = c(-10, 10),
    u = x1, v = y1) +
  geom_point(aes(x = x1, y = y1)) +
  scale_color_viridis_c() +
  coord_fixed()
```

### `geom_complex_function()`{.R}

The `geom_complex_function()`{.R} function generates a vector field plot layer using a user-defined function to compute the vector components. This function abstracts away the mathematical computations required to generate the vector field, so the user does not need to manually calculate and input the vector components into `geom_segment()`{.R}. It simplifies the process, making it easier to create vector field visualizations without dealing with the underlying math.

```{r}
# custom function
f <- function(z) (z^2 + 1) / (z^2 - 1)

# create a ggplot with the complex vector field layer
ggplot() +
  geom_complex_function(fun = f, relim = c(-2, 2), imlim = c(-2, 2), n = 100) +
  coord_fixed()
```


## License

This package is licensed under the MIT License.


## Contact

For any questions or issues, please [open an issue](https://github.com/dusty-turner/ggvfields/issues/new) on GitHub or contact the maintainer.


## Installation


You can install the development version from GitHub:

```{r, eval=FALSE}
devtools::install_github("dusty-turner/ggvfields")
```
