% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geom_potential.R
\docType{data}
\name{geom_potential}
\alias{geom_potential}
\alias{stat_potential}
\alias{StatPotential}
\alias{GeomPotential}
\title{Compute and Plot Potential Function from a Conservative Vector Field}
\format{
An object of class \code{StatPotential} (inherits from \code{Stat}, \code{ggproto}, \code{gg}) of length 3.

An object of class \code{GeomPotential} (inherits from \code{GeomRaster}, \code{Geom}, \code{ggproto}, \code{gg}) of length 5.
}
\usage{
geom_potential(
  mapping = NULL,
  data = NULL,
  stat = StatPotential,
  position = "identity",
  ...,
  na.rm = FALSE,
  inherit.aes = TRUE,
  show.legend = NA,
  fun,
  xlim = NULL,
  ylim = NULL,
  n = 11,
  tolerance = 1e-06
)

stat_potential(
  mapping = NULL,
  data = NULL,
  geom = GeomPotential,
  position = "identity",
  ...,
  na.rm = FALSE,
  inherit.aes = TRUE,
  show.legend = NA,
  fun,
  xlim = NULL,
  ylim = NULL,
  n = 11,
  tolerance = 1e-06
)

StatPotential

GeomPotential
}
\arguments{
\item{mapping}{A set of aesthetic mappings created by \code{\link[ggplot2:aes]{ggplot2::aes()}}. (Optional)}

\item{data}{The data to be displayed in this layer. If \code{NULL}, data is inherited from the plot.}

\item{stat}{The statistical transformation to use on the data (default: \link{StatPotential}).}

\item{position}{Position adjustment, either as a string or the result of a position adjustment function.}

\item{...}{Other arguments passed to \code{\link[ggplot2:layer]{ggplot2::layer()}} and underlying methods.}

\item{na.rm}{Logical. If \code{FALSE} (default), missing values are removed with a warning.}

\item{inherit.aes}{Logical. If \code{FALSE}, overrides the default aesthetics rather than combining with them.}

\item{show.legend}{Logical. Should this layer be included in the legends?}

\item{fun}{A function that takes a numeric vector of length 2 (\code{c(x, y)}) and returns a numeric value,
defining the conservative vector field. \strong{(Required)}}

\item{xlim}{Numeric vector of length 2 defining the domain limits on the x-axis.
Defaults to \code{c(-1, 1)}.}

\item{ylim}{Numeric vector of length 2 defining the domain limits on the y-axis.
Defaults to \code{c(-1, 1)}.}

\item{n}{Integer. Number of grid points along each axis for computing the potential.
Defaults to \code{21}.}

\item{tolerance}{Numeric. Tolerance for verifying if the vector field is conservative.
Defaults to \code{1e-6}.}

\item{geom}{The geometric object used to render the potential function. Defaults to \link{GeomPotential}.}
}
\value{
A ggplot2 layer that produces a potential function heatmap.
}
\description{
\code{geom_potential()} adds a raster layer to a ggplot object, visualizing the
potential function derived from a conservative vector field. It computes the
potential numerically over a specified grid and displays it as a heatmap.
}
\section{Aesthetics}{

\code{geom_potential()} accepts all aesthetics supported by \link{GeomRaster}. In particular, the key aesthetics include:
\itemize{
\item \strong{fill}: The computed potential value at each grid cell, which is mapped to a color scale.
\item \code{x} and \code{y}: The coordinates of the grid cell centers. (calculated)
\item \code{alpha}: Controls the transparency of the raster fill.
}

Additional raster-specific aesthetics (e.g. those controlled by \code{\link[=scale_fill_gradient]{scale_fill_gradient()}},
\code{\link[=scale_fill_viridis_c]{scale_fill_viridis_c()}}, etc.) can be applied to modify the appearance of the potential heatmap.
}

\examples{
# Define a conservative vector field function
fun <- function(v) {
  x <- v[1]
  y <- v[2]
  c(sin(x) + y, x - sin(y))
}

# Create the potential function heatmap
ggplot() +
  geom_potential(fun = fun)

}
\keyword{datasets}
